"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/rekam-medis/route";
exports.ids = ["app/api/rekam-medis/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frekam-medis%2Froute&page=%2Fapi%2Frekam-medis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frekam-medis%2Froute.ts&appDir=D%3A%5CCATATAN%20PKL%202025%5Cmedical-records-system-pku%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCATATAN%20PKL%202025%5Cmedical-records-system-pku&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frekam-medis%2Froute&page=%2Fapi%2Frekam-medis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frekam-medis%2Froute.ts&appDir=D%3A%5CCATATAN%20PKL%202025%5Cmedical-records-system-pku%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCATATAN%20PKL%202025%5Cmedical-records-system-pku&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_CATATAN_PKL_2025_medical_records_system_pku_app_api_rekam_medis_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/rekam-medis/route.ts */ \"(rsc)/./app/api/rekam-medis/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/rekam-medis/route\",\n        pathname: \"/api/rekam-medis\",\n        filename: \"route\",\n        bundlePath: \"app/api/rekam-medis/route\"\n    },\n    resolvedPagePath: \"D:\\\\CATATAN PKL 2025\\\\medical-records-system-pku\\\\app\\\\api\\\\rekam-medis\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_CATATAN_PKL_2025_medical_records_system_pku_app_api_rekam_medis_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/rekam-medis/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZWthbS1tZWRpcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcmVrYW0tbWVkaXMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZyZWthbS1tZWRpcyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDQ0FUQVRBTiUyMFBLTCUyMDIwMjUlNUNtZWRpY2FsLXJlY29yZHMtc3lzdGVtLXBrdSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q0NBVEFUQU4lMjBQS0wlMjAyMDI1JTVDbWVkaWNhbC1yZWNvcmRzLXN5c3RlbS1wa3UmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2lDO0FBQzlHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVkaWNhbC1yZWNvcmRzLXN5c3RlbS8/YWY3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFxDQVRBVEFOIFBLTCAyMDI1XFxcXG1lZGljYWwtcmVjb3Jkcy1zeXN0ZW0tcGt1XFxcXGFwcFxcXFxhcGlcXFxccmVrYW0tbWVkaXNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Jla2FtLW1lZGlzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcmVrYW0tbWVkaXNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Jla2FtLW1lZGlzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcQ0FUQVRBTiBQS0wgMjAyNVxcXFxtZWRpY2FsLXJlY29yZHMtc3lzdGVtLXBrdVxcXFxhcHBcXFxcYXBpXFxcXHJla2FtLW1lZGlzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9yZWthbS1tZWRpcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frekam-medis%2Froute&page=%2Fapi%2Frekam-medis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frekam-medis%2Froute.ts&appDir=D%3A%5CCATATAN%20PKL%202025%5Cmedical-records-system-pku%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCATATAN%20PKL%202025%5Cmedical-records-system-pku&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/rekam-medis/route.ts":
/*!**************************************!*\
  !*** ./app/api/rekam-medis/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n\n\n// GET: Mengambil daftar riwayat rekam medis dengan filter dan paginasi\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const page = parseInt(searchParams.get(\"page\") || \"1\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"10\");\n        const skip = (page - 1) * limit;\n        const search = searchParams.get(\"search\");\n        const doctorId = searchParams.get(\"doctorId\");\n        const tanggal = searchParams.get(\"tanggal\");\n        let whereClause = {\n            AND: []\n        };\n        if (search) {\n            whereClause.AND.push({\n                OR: [\n                    {\n                        patient: {\n                            name: {\n                                contains: search,\n                                mode: \"insensitive\"\n                            }\n                        }\n                    },\n                    {\n                        noRekamMedis: {\n                            contains: search,\n                            mode: \"insensitive\"\n                        }\n                    }\n                ]\n            });\n        }\n        if (doctorId) {\n            whereClause.AND.push({\n                doctorId: doctorId\n            });\n        }\n        if (tanggal) {\n            const date = new Date(tanggal);\n            const startOfDay = new Date(date.setHours(0, 0, 0, 0));\n            const endOfDay = new Date(date.setHours(23, 59, 59, 999));\n            whereClause.AND.push({\n                createdAt: {\n                    gte: startOfDay,\n                    lte: endOfDay\n                }\n            });\n        }\n        if (whereClause.AND.length === 0) {\n            delete whereClause.AND;\n        }\n        const [medicalRecords, total] = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.$transaction([\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.medicalRecord.findMany({\n                where: whereClause,\n                skip,\n                take: limit,\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                include: {\n                    // PERBAIKAN: Tambahkan 'phone' untuk mengambil nomor telepon pasien\n                    patient: {\n                        select: {\n                            name: true,\n                            phone: true\n                        }\n                    },\n                    doctor: {\n                        select: {\n                            name: true\n                        }\n                    },\n                    visit: {\n                        select: {\n                            complaint: true\n                        }\n                    }\n                }\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.medicalRecord.count({\n                where: whereClause\n            })\n        ]);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: medicalRecords,\n            pagination: {\n                page,\n                limit,\n                total,\n                totalPages: Math.ceil(total / limit)\n            }\n        });\n    } catch (error) {\n        console.error(\"Get rekam-medis error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Terjadi kesalahan pada server\"\n        }, {\n            status: 500\n        });\n    }\n}\n// POST: Membuat rekam medis BARU beserta resepnya dalam satu transaksi\nasync function POST(request) {\n    try {\n        const data = await request.json();\n        if (!data.visitId || !data.patientId || !data.doctorId || !data.assessment || !data.plan) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Data inti rekam medis tidak lengkap.\"\n            }, {\n                status: 400\n            });\n        }\n        const result = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.$transaction(async (tx)=>{\n            // 1. Buat entri MedicalRecord\n            const newMedicalRecord = await tx.medicalRecord.create({\n                data: {\n                    visitId: data.visitId,\n                    patientId: data.patientId,\n                    noRekamMedis: data.noRekamMedis,\n                    doctorId: data.doctorId,\n                    subjective: data.subjective,\n                    objective: data.objective,\n                    assessment: data.assessment,\n                    plan: data.plan,\n                    hubunganKeluarga: data.hubunganKeluarga,\n                    statusPsikologis: data.statusPsikologis,\n                    statusFungsional: data.statusFungsional,\n                    skriningGizi: data.skriningGizi,\n                    asesmenNyeri: data.asesmenNyeri,\n                    risikoJatuh: data.risikoJatuh,\n                    masalahKeperawatan: data.masalahKeperawatan,\n                    rencanaIntervensi: data.rencanaIntervensi,\n                    notes: data.notes\n                }\n            });\n            // 2. Jika ada resep, buat entri Prescription dan PrescriptionItem\n            if (data.prescriptionItems && data.prescriptionItems.length > 0) {\n                const newPrescription = await tx.prescription.create({\n                    data: {\n                        medicalRecordId: newMedicalRecord.id,\n                        doctorId: data.doctorId,\n                        patientId: data.patientId,\n                        noRekamMedis: data.noRekamMedis,\n                        status: \"PENDING\"\n                    }\n                });\n                for (const item of data.prescriptionItems){\n                    await tx.prescriptionItem.create({\n                        data: {\n                            prescriptionId: newPrescription.id,\n                            medicineId: item.medicineId,\n                            quantity: item.quantity,\n                            dosage: item.dosage,\n                            notes: item.notes || null\n                        }\n                    });\n                    await tx.medicine.update({\n                        where: {\n                            id: item.medicineId\n                        },\n                        data: {\n                            stock: {\n                                decrement: item.quantity\n                            }\n                        }\n                    });\n                }\n            }\n            // 3. Update status kunjungan menjadi 'COMPLETED'\n            await tx.visit.update({\n                where: {\n                    id: data.visitId\n                },\n                data: {\n                    status: \"COMPLETED\",\n                    vitalSigns: data.vitalSigns || {}\n                }\n            });\n            return newMedicalRecord;\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: result\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Create rekam medis & resep error:\", error);\n        if (error.code === \"P2002\") {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Rekam medis untuk kunjungan ini sudah pernah dibuat.\"\n            }, {\n                status: 409\n            });\n        }\n        if (error.message.includes(\"decrement\")) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Gagal, stok salah satu obat tidak mencukupi.\"\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Gagal menyimpan data. Terjadi kesalahan internal.\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ0Y7WUFFQSxPQUFPNUI7UUFDVDtRQUVBLE9BQU9qRSxxREFBWUEsQ0FBQ2dELElBQUksQ0FBQztZQUFFQyxTQUFTO1lBQU1DLE1BQU1hO1FBQU8sR0FBRztZQUFFTixRQUFRO1FBQUk7SUFFMUUsRUFBRSxPQUFPRixPQUFZO1FBQ25CQyxRQUFRRCxLQUFLLENBQUMscUNBQXFDQTtRQUNuRCxJQUFJQSxNQUFNdUMsSUFBSSxLQUFLLFNBQVM7WUFDMUIsT0FBTzlGLHFEQUFZQSxDQUFDZ0QsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO2dCQUFPTSxPQUFPO1lBQXVELEdBQUc7Z0JBQUVFLFFBQVE7WUFBSTtRQUM1SDtRQUNBLElBQUlGLE1BQU13QyxPQUFPLENBQUNDLFFBQVEsQ0FBQyxjQUFjO1lBQ3ZDLE9BQU9oRyxxREFBWUEsQ0FBQ2dELElBQUksQ0FBQztnQkFBRUMsU0FBUztnQkFBT00sT0FBTztZQUErQyxHQUFHO2dCQUFFRSxRQUFRO1lBQUk7UUFDcEg7UUFDQSxPQUFPekQscURBQVlBLENBQUNnRCxJQUFJLENBQUM7WUFBRUMsU0FBUztZQUFPTSxPQUFPO1FBQW9ELEdBQUc7WUFBRUUsUUFBUTtRQUFJO0lBQ3pIO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWRpY2FsLXJlY29yZHMtc3lzdGVtLy4vYXBwL2FwaS9yZWthbS1tZWRpcy9yb3V0ZS50cz80OTQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IHByaXNtYSB9IGZyb20gJ0AvbGliL3ByaXNtYSdcblxuLy8gR0VUOiBNZW5nYW1iaWwgZGFmdGFyIHJpd2F5YXQgcmVrYW0gbWVkaXMgZGVuZ2FuIGZpbHRlciBkYW4gcGFnaW5hc2lcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgncGFnZScpIHx8ICcxJylcbiAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzEwJylcbiAgICBjb25zdCBza2lwID0gKHBhZ2UgLSAxKSAqIGxpbWl0XG5cbiAgICBjb25zdCBzZWFyY2ggPSBzZWFyY2hQYXJhbXMuZ2V0KCdzZWFyY2gnKVxuICAgIGNvbnN0IGRvY3RvcklkID0gc2VhcmNoUGFyYW1zLmdldCgnZG9jdG9ySWQnKVxuICAgIGNvbnN0IHRhbmdnYWwgPSBzZWFyY2hQYXJhbXMuZ2V0KCd0YW5nZ2FsJylcblxuICAgIGxldCB3aGVyZUNsYXVzZTogYW55ID0geyBBTkQ6IFtdIH1cblxuICAgIGlmIChzZWFyY2gpIHtcbiAgICAgIHdoZXJlQ2xhdXNlLkFORC5wdXNoKHtcbiAgICAgICAgT1I6IFtcbiAgICAgICAgICB7IHBhdGllbnQ6IHsgbmFtZTogeyBjb250YWluczogc2VhcmNoLCBtb2RlOiAnaW5zZW5zaXRpdmUnIH0gfSB9LFxuICAgICAgICAgIHsgbm9SZWthbU1lZGlzOiB7IGNvbnRhaW5zOiBzZWFyY2gsIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxuICAgICAgICBdLFxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoZG9jdG9ySWQpIHtcbiAgICAgIHdoZXJlQ2xhdXNlLkFORC5wdXNoKHsgZG9jdG9ySWQ6IGRvY3RvcklkIH0pXG4gICAgfVxuXG4gICAgaWYgKHRhbmdnYWwpIHtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0YW5nZ2FsKVxuICAgICAgY29uc3Qgc3RhcnRPZkRheSA9IG5ldyBEYXRlKGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCkpXG4gICAgICBjb25zdCBlbmRPZkRheSA9IG5ldyBEYXRlKGRhdGUuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KSlcbiAgICAgIHdoZXJlQ2xhdXNlLkFORC5wdXNoKHsgY3JlYXRlZEF0OiB7IGd0ZTogc3RhcnRPZkRheSwgbHRlOiBlbmRPZkRheSB9IH0pXG4gICAgfVxuICAgIFxuICAgIGlmICh3aGVyZUNsYXVzZS5BTkQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSB3aGVyZUNsYXVzZS5BTkQ7XG4gICAgfVxuXG4gICAgY29uc3QgW21lZGljYWxSZWNvcmRzLCB0b3RhbF0gPSBhd2FpdCBwcmlzbWEuJHRyYW5zYWN0aW9uKFtcbiAgICAgIHByaXNtYS5tZWRpY2FsUmVjb3JkLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHdoZXJlQ2xhdXNlLFxuICAgICAgICBza2lwLFxuICAgICAgICB0YWtlOiBsaW1pdCxcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgLy8gUEVSQkFJS0FOOiBUYW1iYWhrYW4gJ3Bob25lJyB1bnR1ayBtZW5nYW1iaWwgbm9tb3IgdGVsZXBvbiBwYXNpZW5cbiAgICAgICAgICBwYXRpZW50OiB7IHNlbGVjdDogeyBuYW1lOiB0cnVlLCBwaG9uZTogdHJ1ZSB9IH0sXG4gICAgICAgICAgZG9jdG9yOiB7IHNlbGVjdDogeyBuYW1lOiB0cnVlIH0gfSxcbiAgICAgICAgICB2aXNpdDogeyBzZWxlY3Q6IHsgY29tcGxhaW50OiB0cnVlIH0gfSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAgcHJpc21hLm1lZGljYWxSZWNvcmQuY291bnQoeyB3aGVyZTogd2hlcmVDbGF1c2UgfSksXG4gICAgXSlcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogbWVkaWNhbFJlY29yZHMsXG4gICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgIHBhZ2UsXG4gICAgICAgIGxpbWl0LFxuICAgICAgICB0b3RhbCxcbiAgICAgICAgdG90YWxQYWdlczogTWF0aC5jZWlsKHRvdGFsIC8gbGltaXQpLFxuICAgICAgfSxcbiAgICB9KVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0dldCByZWthbS1tZWRpcyBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdUZXJqYWRpIGtlc2FsYWhhbiBwYWRhIHNlcnZlcicgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59XG5cblxuLy8gUE9TVDogTWVtYnVhdCByZWthbSBtZWRpcyBCQVJVIGJlc2VydGEgcmVzZXBueWEgZGFsYW0gc2F0dSB0cmFuc2Frc2lcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG5cbiAgICBpZiAoIWRhdGEudmlzaXRJZCB8fCAhZGF0YS5wYXRpZW50SWQgfHwgIWRhdGEuZG9jdG9ySWQgfHwgIWRhdGEuYXNzZXNzbWVudCB8fCAhZGF0YS5wbGFuKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdEYXRhIGludGkgcmVrYW0gbWVkaXMgdGlkYWsgbGVuZ2thcC4nIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwcmlzbWEuJHRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xuICAgICAgLy8gMS4gQnVhdCBlbnRyaSBNZWRpY2FsUmVjb3JkXG4gICAgICBjb25zdCBuZXdNZWRpY2FsUmVjb3JkID0gYXdhaXQgdHgubWVkaWNhbFJlY29yZC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdmlzaXRJZDogZGF0YS52aXNpdElkLFxuICAgICAgICAgIHBhdGllbnRJZDogZGF0YS5wYXRpZW50SWQsXG4gICAgICAgICAgbm9SZWthbU1lZGlzOiBkYXRhLm5vUmVrYW1NZWRpcyxcbiAgICAgICAgICBkb2N0b3JJZDogZGF0YS5kb2N0b3JJZCxcbiAgICAgICAgICBzdWJqZWN0aXZlOiBkYXRhLnN1YmplY3RpdmUsXG4gICAgICAgICAgb2JqZWN0aXZlOiBkYXRhLm9iamVjdGl2ZSxcbiAgICAgICAgICBhc3Nlc3NtZW50OiBkYXRhLmFzc2Vzc21lbnQsXG4gICAgICAgICAgcGxhbjogZGF0YS5wbGFuLFxuICAgICAgICAgIGh1YnVuZ2FuS2VsdWFyZ2E6IGRhdGEuaHVidW5nYW5LZWx1YXJnYSxcbiAgICAgICAgICBzdGF0dXNQc2lrb2xvZ2lzOiBkYXRhLnN0YXR1c1BzaWtvbG9naXMsXG4gICAgICAgICAgc3RhdHVzRnVuZ3Npb25hbDogZGF0YS5zdGF0dXNGdW5nc2lvbmFsLFxuICAgICAgICAgIHNrcmluaW5nR2l6aTogZGF0YS5za3JpbmluZ0dpemksXG4gICAgICAgICAgYXNlc21lbk55ZXJpOiBkYXRhLmFzZXNtZW5OeWVyaSxcbiAgICAgICAgICByaXNpa29KYXR1aDogZGF0YS5yaXNpa29KYXR1aCxcbiAgICAgICAgICBtYXNhbGFoS2VwZXJhd2F0YW46IGRhdGEubWFzYWxhaEtlcGVyYXdhdGFuLFxuICAgICAgICAgIHJlbmNhbmFJbnRlcnZlbnNpOiBkYXRhLnJlbmNhbmFJbnRlcnZlbnNpLFxuICAgICAgICAgIG5vdGVzOiBkYXRhLm5vdGVzLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIDIuIEppa2EgYWRhIHJlc2VwLCBidWF0IGVudHJpIFByZXNjcmlwdGlvbiBkYW4gUHJlc2NyaXB0aW9uSXRlbVxuICAgICAgaWYgKGRhdGEucHJlc2NyaXB0aW9uSXRlbXMgJiYgZGF0YS5wcmVzY3JpcHRpb25JdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG5ld1ByZXNjcmlwdGlvbiA9IGF3YWl0IHR4LnByZXNjcmlwdGlvbi5jcmVhdGUoe1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIG1lZGljYWxSZWNvcmRJZDogbmV3TWVkaWNhbFJlY29yZC5pZCxcbiAgICAgICAgICAgIGRvY3RvcklkOiBkYXRhLmRvY3RvcklkLFxuICAgICAgICAgICAgcGF0aWVudElkOiBkYXRhLnBhdGllbnRJZCxcbiAgICAgICAgICAgIG5vUmVrYW1NZWRpczogZGF0YS5ub1Jla2FtTWVkaXMsXG4gICAgICAgICAgICBzdGF0dXM6ICdQRU5ESU5HJyxcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBkYXRhLnByZXNjcmlwdGlvbkl0ZW1zKSB7XG4gICAgICAgICAgYXdhaXQgdHgucHJlc2NyaXB0aW9uSXRlbS5jcmVhdGUoe1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBwcmVzY3JpcHRpb25JZDogbmV3UHJlc2NyaXB0aW9uLmlkLFxuICAgICAgICAgICAgICBtZWRpY2luZUlkOiBpdGVtLm1lZGljaW5lSWQsXG4gICAgICAgICAgICAgIHF1YW50aXR5OiBpdGVtLnF1YW50aXR5LFxuICAgICAgICAgICAgICBkb3NhZ2U6IGl0ZW0uZG9zYWdlLFxuICAgICAgICAgICAgICBub3RlczogaXRlbS5ub3RlcyB8fCBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgYXdhaXQgdHgubWVkaWNpbmUudXBkYXRlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBpdGVtLm1lZGljaW5lSWQgfSxcbiAgICAgICAgICAgIGRhdGE6IHsgc3RvY2s6IHsgZGVjcmVtZW50OiBpdGVtLnF1YW50aXR5IH0gfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIDMuIFVwZGF0ZSBzdGF0dXMga3VuanVuZ2FuIG1lbmphZGkgJ0NPTVBMRVRFRCdcbiAgICAgIGF3YWl0IHR4LnZpc2l0LnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBkYXRhLnZpc2l0SWQgfSxcbiAgICAgICAgZGF0YTogeyBcbiAgICAgICAgICBzdGF0dXM6ICdDT01QTEVURUQnLCBcbiAgICAgICAgICB2aXRhbFNpZ25zOiBkYXRhLnZpdGFsU2lnbnMgfHwge30gXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG5ld01lZGljYWxSZWNvcmQ7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQgfSwgeyBzdGF0dXM6IDIwMSB9KTtcblxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignQ3JlYXRlIHJla2FtIG1lZGlzICYgcmVzZXAgZXJyb3I6JywgZXJyb3IpO1xuICAgIGlmIChlcnJvci5jb2RlID09PSAnUDIwMDInKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdSZWthbSBtZWRpcyB1bnR1ayBrdW5qdW5nYW4gaW5pIHN1ZGFoIHBlcm5haCBkaWJ1YXQuJyB9LCB7IHN0YXR1czogNDA5IH0pO1xuICAgIH1cbiAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnZGVjcmVtZW50JykpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0dhZ2FsLCBzdG9rIHNhbGFoIHNhdHUgb2JhdCB0aWRhayBtZW5jdWt1cGkuJyB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdHYWdhbCBtZW55aW1wYW4gZGF0YS4gVGVyamFkaSBrZXNhbGFoYW4gaW50ZXJuYWwuJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwicHJpc21hIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInBhZ2UiLCJwYXJzZUludCIsImdldCIsImxpbWl0Iiwic2tpcCIsInNlYXJjaCIsImRvY3RvcklkIiwidGFuZ2dhbCIsIndoZXJlQ2xhdXNlIiwiQU5EIiwicHVzaCIsIk9SIiwicGF0aWVudCIsIm5hbWUiLCJjb250YWlucyIsIm1vZGUiLCJub1Jla2FtTWVkaXMiLCJkYXRlIiwiRGF0ZSIsInN0YXJ0T2ZEYXkiLCJzZXRIb3VycyIsImVuZE9mRGF5IiwiY3JlYXRlZEF0IiwiZ3RlIiwibHRlIiwibGVuZ3RoIiwibWVkaWNhbFJlY29yZHMiLCJ0b3RhbCIsIiR0cmFuc2FjdGlvbiIsIm1lZGljYWxSZWNvcmQiLCJmaW5kTWFueSIsIndoZXJlIiwidGFrZSIsIm9yZGVyQnkiLCJpbmNsdWRlIiwic2VsZWN0IiwicGhvbmUiLCJkb2N0b3IiLCJ2aXNpdCIsImNvbXBsYWludCIsImNvdW50IiwianNvbiIsInN1Y2Nlc3MiLCJkYXRhIiwicGFnaW5hdGlvbiIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsImVycm9yIiwiY29uc29sZSIsInN0YXR1cyIsIlBPU1QiLCJ2aXNpdElkIiwicGF0aWVudElkIiwiYXNzZXNzbWVudCIsInBsYW4iLCJyZXN1bHQiLCJ0eCIsIm5ld01lZGljYWxSZWNvcmQiLCJjcmVhdGUiLCJzdWJqZWN0aXZlIiwib2JqZWN0aXZlIiwiaHVidW5nYW5LZWx1YXJnYSIsInN0YXR1c1BzaWtvbG9naXMiLCJzdGF0dXNGdW5nc2lvbmFsIiwic2tyaW5pbmdHaXppIiwiYXNlc21lbk55ZXJpIiwicmlzaWtvSmF0dWgiLCJtYXNhbGFoS2VwZXJhd2F0YW4iLCJyZW5jYW5hSW50ZXJ2ZW5zaSIsIm5vdGVzIiwicHJlc2NyaXB0aW9uSXRlbXMiLCJuZXdQcmVzY3JpcHRpb24iLCJwcmVzY3JpcHRpb24iLCJtZWRpY2FsUmVjb3JkSWQiLCJpZCIsIml0ZW0iLCJwcmVzY3JpcHRpb25JdGVtIiwicHJlc2NyaXB0aW9uSWQiLCJtZWRpY2luZUlkIiwicXVhbnRpdHkiLCJkb3NhZ2UiLCJtZWRpY2luZSIsInVwZGF0ZSIsInN0b2NrIiwiZGVjcmVtZW50Iiwidml0YWxTaWducyIsImNvZGUiLCJtZXNzYWdlIiwiaW5jbHVkZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/rekam-medis/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILHdEQUFZQSxHQUFFO0FBRWxFLElBQUlJLElBQXlCLEVBQWNILGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL21lZGljYWwtcmVjb3Jkcy1zeXN0ZW0vLi9saWIvcHJpc21hLnRzPzk4MjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XG4gIHByaXNtYTogUHJpc21hQ2xpZW50IHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjb25zdCBwcmlzbWEgPSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/IG5ldyBQcmlzbWFDbGllbnQoKVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYVxuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJwcmlzbWEiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frekam-medis%2Froute&page=%2Fapi%2Frekam-medis%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frekam-medis%2Froute.ts&appDir=D%3A%5CCATATAN%20PKL%202025%5Cmedical-records-system-pku%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCATATAN%20PKL%202025%5Cmedical-records-system-pku&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();